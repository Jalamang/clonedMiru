{"ast":null,"code":"var _jsxFileName = \"/Users/jalamangjankagmail.com/8-0/module-6/Miru/front-end/src/components/Content.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useEffect } from \"react\";\nimport { instance } from \"../helpers/api\";\nimport ActivityCard from \"./ActivityCard\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Content = props => {\n  _s();\n\n  var _props$activities;\n\n  const [favorites, setFavorites] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    instance.get(`/user/login`).then(response => {\n      if (response) {\n        load();\n      }\n    }).catch(error => {\n      console.error(\"catch\", error);\n    });\n  }, []);\n\n  const load = () => {\n    instance.get(`/activity/favorites`).then(response => {\n      setFavorites(response.data);\n    });\n  };\n\n  const handleFav = event => {\n    if (event.target.name === \"notFav\") {\n      instance.post(`/activity/${event.target.id}/favorites`).then(() => {\n        load();\n      }).catch(error => {\n        console.warn(error);\n      });\n    } else {\n      instance.delete(`/activity/${event.target.id}/favorites`).then(() => {\n        load();\n      }).catch(error => {\n        console.warn(error);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: (_props$activities = props.activities) === null || _props$activities === void 0 ? void 0 : _props$activities.map(activity => {\n      let isfavorites = false;\n\n      if (favorites.length > 0) {\n        isfavorites = favorites.some(fav => fav.activity_id === activity.id);\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: isfavorites ? \"fav\" : \"notFav\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"fa fa-heart\",\n          id: activity.id,\n          name: isfavorites ? \"fav\" : \"notFav\",\n          onClick: handleFav\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ActivityCard, {\n          activity: activity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, activity.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false);\n};\n\n_s(Content, \"qQe+VwtMLL8+AVjiVCzM6QdsYLM=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Content;\nexport default Content;\n\nvar _c;\n\n$RefreshReg$(_c, \"Content\");","map":{"version":3,"names":["React","useState","useEffect","instance","ActivityCard","useNavigate","Content","props","favorites","setFavorites","navigate","get","then","response","load","catch","error","console","data","handleFav","event","target","name","post","id","warn","delete","activities","map","activity","isfavorites","length","some","fav","activity_id"],"sources":["/Users/jalamangjankagmail.com/8-0/module-6/Miru/front-end/src/components/Content.js"],"sourcesContent":["import { React, useState, useEffect } from \"react\";\nimport { instance } from \"../helpers/api\";\nimport ActivityCard from \"./ActivityCard\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Content = (props) => {\n  const [favorites, setFavorites] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    instance\n      .get(`/user/login`)\n      .then((response) => {\n        if (response) {\n          load();\n        }\n      })\n      .catch((error) => {\n        console.error(\"catch\", error);\n      });\n  }, []);\n\n  const load = () => {\n    instance.get(`/activity/favorites`).then((response) => {\n      setFavorites(response.data);\n    });\n  };\n\n  const handleFav = (event) => {\n    if (event.target.name === \"notFav\") {\n      instance\n        .post(`/activity/${event.target.id}/favorites`)\n        .then(() => {\n          load();\n        })\n        .catch((error) => {\n          console.warn(error);\n        });\n    } else {\n      instance\n        .delete(`/activity/${event.target.id}/favorites`)\n        .then(() => {\n          load();\n        })\n        .catch((error) => {\n          console.warn(error);\n        });\n    }\n  };\n\n  return (\n    <>\n      {props.activities?.map((activity) => {\n        let isfavorites = false;\n        if (favorites.length > 0) {\n          isfavorites = favorites.some((fav) => fav.activity_id === activity.id);\n        }\n        return (\n          <div key={activity.id} className={isfavorites ? \"fav\" : \"notFav\"}>\n            <button\n              className=\"fa fa-heart\"\n              id={activity.id}\n              name={isfavorites ? \"fav\" : \"notFav\"}\n              onClick={handleFav}\n            ></button>\n            <ActivityCard activity={activity} />\n          </div>\n        );\n      })}\n    </>\n  );\n};\n\nexport default Content;\n"],"mappings":";;;AAAA,SAASA,KAAT,EAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,WAAT,QAA4B,kBAA5B;;;;AAEA,MAAMC,OAAO,GAAIC,KAAD,IAAW;EAAA;;EAAA;;EACzB,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC,EAAD,CAA1C;EACA,MAAMS,QAAQ,GAAGL,WAAW,EAA5B;EAEAH,SAAS,CAAC,MAAM;IACdC,QAAQ,CACLQ,GADH,CACQ,aADR,EAEGC,IAFH,CAESC,QAAD,IAAc;MAClB,IAAIA,QAAJ,EAAc;QACZC,IAAI;MACL;IACF,CANH,EAOGC,KAPH,CAOUC,KAAD,IAAW;MAChBC,OAAO,CAACD,KAAR,CAAc,OAAd,EAAuBA,KAAvB;IACD,CATH;EAUD,CAXQ,EAWN,EAXM,CAAT;;EAaA,MAAMF,IAAI,GAAG,MAAM;IACjBX,QAAQ,CAACQ,GAAT,CAAc,qBAAd,EAAoCC,IAApC,CAA0CC,QAAD,IAAc;MACrDJ,YAAY,CAACI,QAAQ,CAACK,IAAV,CAAZ;IACD,CAFD;EAGD,CAJD;;EAMA,MAAMC,SAAS,GAAIC,KAAD,IAAW;IAC3B,IAAIA,KAAK,CAACC,MAAN,CAAaC,IAAb,KAAsB,QAA1B,EAAoC;MAClCnB,QAAQ,CACLoB,IADH,CACS,aAAYH,KAAK,CAACC,MAAN,CAAaG,EAAG,YADrC,EAEGZ,IAFH,CAEQ,MAAM;QACVE,IAAI;MACL,CAJH,EAKGC,KALH,CAKUC,KAAD,IAAW;QAChBC,OAAO,CAACQ,IAAR,CAAaT,KAAb;MACD,CAPH;IAQD,CATD,MASO;MACLb,QAAQ,CACLuB,MADH,CACW,aAAYN,KAAK,CAACC,MAAN,CAAaG,EAAG,YADvC,EAEGZ,IAFH,CAEQ,MAAM;QACVE,IAAI;MACL,CAJH,EAKGC,KALH,CAKUC,KAAD,IAAW;QAChBC,OAAO,CAACQ,IAAR,CAAaT,KAAb;MACD,CAPH;IAQD;EACF,CApBD;;EAsBA,oBACE;IAAA,+BACGT,KAAK,CAACoB,UADT,sDACG,kBAAkBC,GAAlB,CAAuBC,QAAD,IAAc;MACnC,IAAIC,WAAW,GAAG,KAAlB;;MACA,IAAItB,SAAS,CAACuB,MAAV,GAAmB,CAAvB,EAA0B;QACxBD,WAAW,GAAGtB,SAAS,CAACwB,IAAV,CAAgBC,GAAD,IAASA,GAAG,CAACC,WAAJ,KAAoBL,QAAQ,CAACL,EAArD,CAAd;MACD;;MACD,oBACE;QAAuB,SAAS,EAAEM,WAAW,GAAG,KAAH,GAAW,QAAxD;QAAA,wBACE;UACE,SAAS,EAAC,aADZ;UAEE,EAAE,EAAED,QAAQ,CAACL,EAFf;UAGE,IAAI,EAAEM,WAAW,GAAG,KAAH,GAAW,QAH9B;UAIE,OAAO,EAAEX;QAJX;UAAA;UAAA;UAAA;QAAA,QADF,eAOE,QAAC,YAAD;UAAc,QAAQ,EAAEU;QAAxB;UAAA;UAAA;UAAA;QAAA,QAPF;MAAA,GAAUA,QAAQ,CAACL,EAAnB;QAAA;QAAA;QAAA;MAAA,QADF;IAWD,CAhBA;EADH,iBADF;AAqBD,CAlED;;GAAMlB,O;UAEaD,W;;;KAFbC,O;AAoEN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}